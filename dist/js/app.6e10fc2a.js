(function(){"use strict";var e={4600:function(e,t,n){var a=n(5130),r=n(6768);const o={id:"app"};function s(e,t,n,a,s,l){const c=(0,r.g2)("AppHeader"),u=(0,r.g2)("StockIndex"),d=(0,r.g2)("router-view"),i=(0,r.g2)("AppFooter");return(0,r.uX)(),(0,r.CE)("div",o,[(0,r.bF)(c),(0,r.bF)(u),(0,r.bF)(d),(0,r.bF)(i)])}var l=n.p+"img/logo.e6b7f4bc.webp";function c(e,t,n,a,o,s){return(0,r.uX)(),(0,r.CE)("header",null,t[0]||(t[0]=[(0,r.Fv)('<div class="logo" data-v-09aa433c><img src="'+l+'" alt="股票新闻聚合 Logo" class="logo-image" data-v-09aa433c> 股票新闻聚合 </div><nav data-v-09aa433c><a href="/" data-v-09aa433c>首页</a><a href="/ranking" data-v-09aa433c>热门行业排行榜</a><a href="#" data-v-09aa433c>市场动态</a><a href="#" data-v-09aa433c>关于我们</a></nav>',2)]))}var u={name:"AppHeader"},d=n(1241);const i=(0,d.A)(u,[["render",c],["__scopeId","data-v-09aa433c"]]);var p=i;function v(e,t,n,a,o,s){return(0,r.uX)(),(0,r.CE)("footer",null,t[0]||(t[0]=[(0,r.Lk)("div",{class:"copyright"}," © 2025 股票新闻聚合. 保留所有权利. ",-1)]))}var k={name:"AppFooter"};const h=(0,d.A)(k,[["render",v],["__scopeId","data-v-d56266c4"]]);var g=h,_=(n(8992),n(4520),n(1454),n(4232)),f=n(144);const L={class:"stock-indices"},b={class:"stock-indices-container"},m=["href"],y={class:"index-name"},w={class:"index-value"},C={key:0,class:"index-change-value positive"},z={key:1,class:"index-change-value negative"},I={key:2,class:"index-change positive"},E={key:3,class:"index-change negative"},P={class:"index-volume"},X={key:0},x={key:1},F={class:"index-turnover"},q={key:0},A={key:1},$="https://sqt.gtimg.cn/qt?app=tengxuncaijing&q=s_sh000001,s_sz399001,s_sz399006,s_sh000688,s_sh000300,s_hkHSI,s_usDJI,s_usIXIC,s_usINX";var D={__name:"StockIndex",setup(e){const t=(0,f.KR)([]),n=async()=>{try{const e=await fetch($,{headers:{Accept:"text/html; charset=GBK"}}),n=await e.arrayBuffer(),a=new TextDecoder("gbk"),r=a.decode(n),o=r.split(";").filter((e=>""!==e.trim()));t.value=o.map((e=>{const t=e.split("=")[0]?.replace(/"/g,"").trim(),n=e.split("=")[1]?.replace(/"/g,"").trim();if(!n)return null;const a=n.split("~"),r=t.replace("v_s_","");return{id:a[0],name:decodeURIComponent(a[1]),code:r,value:parseFloat(a[3]),change:parseFloat(a[4]),percentageChange:parseFloat(a[5]),volume:parseFloat(a[6]),turnover:parseFloat(a[7])}})).filter((e=>e))}catch(e){console.error("数据请求失败:",e)}};return(0,r.sV)((()=>{n()})),(e,a)=>((0,r.uX)(),(0,r.CE)("div",L,[(0,r.Lk)("div",b,[(0,r.Lk)("button",{onClick:n,class:"refresh-button"},"刷新数据"),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(t.value,(e=>((0,r.uX)(),(0,r.CE)("div",{class:"stock-item",key:e.id},[(0,r.Lk)("a",{class:"stock-link",href:`https://gu.qq.com/${e.code}/zs`,target:"_blank"},[(0,r.Lk)("div",y,(0,_.v_)(e.name),1),(0,r.Lk)("div",w,(0,_.v_)(e.value),1),e.change.toString().includes("-")?((0,r.uX)(),(0,r.CE)("div",C,(0,_.v_)(e.change),1)):((0,r.uX)(),(0,r.CE)("div",z,(0,_.v_)(e.change),1)),e.percentageChange.toString().includes("-")?((0,r.uX)(),(0,r.CE)("div",I,(0,_.v_)(e.percentageChange)+"% ",1)):((0,r.uX)(),(0,r.CE)("div",E,(0,_.v_)(e.percentageChange)+"% ",1)),(0,r.Lk)("div",P,[e.volume>=1e8?((0,r.uX)(),(0,r.CE)("span",X,(0,_.v_)(Math.floor(e.volume/1e8))+"亿手",1)):((0,r.uX)(),(0,r.CE)("span",x,(0,_.v_)(Math.floor(e.volume/1e4))+"万手",1))]),(0,r.Lk)("div",F,[e.turnover>=1e4?((0,r.uX)(),(0,r.CE)("span",q,(0,_.v_)(Math.floor(e.turnover/1e4))+"亿",1)):((0,r.uX)(),(0,r.CE)("span",A,(0,_.v_)(e.turnover)+"万",1))])],8,m)])))),128))])]))}};const M=(0,d.A)(D,[["__scopeId","data-v-b5ee3092"]]);var T=M,j={name:"App",components:{AppHeader:p,AppFooter:g,StockIndex:T}};const K=(0,d.A)(j,[["render",s]]);var O=K,R=n(1387),S=n(4373);const H=S.A.create({baseURL:"https://news.ykcode.top/api/"}),N={class:"news-container"},V={class:"total-news-count"},B=["onClick"],U={class:"content"};var W={__name:"NewsList",setup(e){const t=[{title:"今日美股网",source:"todayusstock"},{title:"东方财富网",source:"eastmoney"},{title:"证券时报网",source:"stcn"}],n=(0,f.KR)({});var a=0;const o=async(e,t)=>{try{const r=await H.get(`/v1/news/list?source=${e}`);n.value[t]=r.data.news,a+=r.data.totalCount}catch(r){console.error("Failed to fetch news:",r)}};t.forEach((e=>{o(e.source,e.title)})),(0,r.sV)((()=>{}));const s=e=>{const t=new Date,n=t-new Date(e),a=Math.floor(n/1e3),r=Math.floor(a/60),o=Math.floor(r/60),s=Math.floor(o/24);return s>0?`${s}天前`:o>0?`${o}小时前`:r>0?`${r}分钟前`:"刚刚"},l=e=>{window.open(e,"_blank")};return(e,o)=>{const c=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)("div",N,[(0,r.Lk)("div",V,[(0,r.Lk)("p",null,"新闻总数: "+(0,_.v_)((0,f.R1)(a)),1)]),((0,r.uX)(),(0,r.CE)(r.FK,null,(0,r.pI)(t,((e,t)=>(0,r.Lk)("div",{key:t,class:"news-section"},[(0,r.bF)(c,{to:`/source/${e.source}`,class:"no-underline"},{default:(0,r.k6)((()=>[(0,r.Lk)("h2",null,(0,_.v_)(e.title),1)])),_:2},1032,["to"]),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(n.value[e.title],(e=>((0,r.uX)(),(0,r.CE)("div",{key:e.id,class:"news-item"},[(0,r.Lk)("h3",null,[(0,r.Lk)("div",{class:"news-link",onClick:t=>l(e.link)},(0,_.v_)(e.title),9,B)]),(0,r.Lk)("p",U,(0,_.v_)(e.content?e.content.slice(0,80)+(e.content.length>50?"...":""):""),1),o[0]||(o[0]=(0,r.Lk)("p",null,null,-1)),(0,r.Lk)("p",null,[(0,r.Lk)("span",null,(0,_.v_)(e.category),1),(0,r.eW)(" "+(0,_.v_)(s(e.publish_time)),1)])])))),128))]))),64))])}}};const G=(0,d.A)(W,[["__scopeId","data-v-472f1280"]]);var J=G;const Q={class:"pagination"},Y=["disabled"],Z=["disabled"];function ee(e,t,n,a,o,s){return(0,r.uX)(),(0,r.CE)("div",Q,[(0,r.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>s.prevPage&&s.prevPage(...e)),disabled:1===n.currentPage},"上一页",8,Y),(0,r.Lk)("span",null,(0,_.v_)(n.currentPage),1),(0,r.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>s.nextPage&&s.nextPage(...e)),disabled:n.currentPage===n.totalPages},"下一页",8,Z)])}var te={name:"PaginationComponent",props:{currentPage:{type:Number,required:!0},totalPages:{type:Number,required:!0}},emits:["page-change"],methods:{prevPage(){this.currentPage>1&&this.$emit("page-change",this.currentPage-1)},nextPage(){this.currentPage<this.totalPages&&this.$emit("page-change",this.currentPage+1)}}};const ne=(0,d.A)(te,[["render",ee],["__scopeId","data-v-0065ceb0"]]);var ae=ne;const re={class:"news-container"},oe={class:"total-news-count"},se={class:"news-section"},le=["onClick"],ce={class:"content"};var ue={__name:"CategrayNews",setup(e){const t={todayusstock:"今日美股网",eastmoney:"东方财富网",stcn:"证券时报网"},n=(0,f.KR)({}),a=(0,f.KR)(0),o=(0,f.KR)(0),s=(0,R.lq)(),l=s.params.source;let c=parseInt(s.params.page)||1,u=parseInt(s.params.pageSize)||10;const d=async(e,t,r)=>{try{const s=await H.get(`/v1/news/list?source=${e}&page=${r}&pageSize=${u}`);n.value[t]=s.data.news,a.value=parseInt(s.data.totalCount),o.value=Math.ceil(a.value/u)}catch(s){console.error("Failed to fetch news:",s)}};(0,r.sV)((()=>{d(l,t[l],c)}));const i=e=>{const t=new Date,n=t-new Date(e),a=Math.floor(n/1e3),r=Math.floor(a/60),o=Math.floor(r/60),s=Math.floor(o/24);return s>0?`${s}天前`:o>0?`${o}小时前`:r>0?`${r}分钟前`:"刚刚"},p=e=>{window.open(e,"_blank")},v=e=>{c=e,d(l,t[l],c)};return(e,s)=>((0,r.uX)(),(0,r.CE)("div",re,[(0,r.Lk)("div",oe,[(0,r.Lk)("p",null,"新闻总数: "+(0,_.v_)(a.value),1)]),(0,r.Lk)("div",se,[(0,r.Lk)("h2",null,(0,_.v_)(t[(0,f.R1)(l)]),1),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(n.value[t[(0,f.R1)(l)]],(e=>((0,r.uX)(),(0,r.CE)("div",{key:e.id,class:"news-item"},[(0,r.Lk)("h3",null,[(0,r.Lk)("div",{class:"news-link",onClick:t=>p(e.link)},(0,_.v_)(e.title),9,le)]),(0,r.Lk)("p",ce,(0,_.v_)(e.content?e.content.slice(0,80)+(e.content.length>50?"...":""):""),1),s[0]||(s[0]=(0,r.Lk)("p",null,null,-1)),(0,r.Lk)("p",null,[(0,r.Lk)("span",null,(0,_.v_)(e.category),1),(0,r.eW)(" "+(0,_.v_)(i(e.publish_time)),1)])])))),128))]),(0,r.bF)(ae,{currentPage:(0,f.R1)(c),totalPages:o.value,onPageChange:v},null,8,["currentPage","totalPages"])]))}};const de=(0,d.A)(ue,[["__scopeId","data-v-fb7f894c"]]);var ie=de;const pe={class:"news-container"},ve={class:"industry-table"},ke={key:0},he=["href"],ge=["href"],_e={class:"news-section"},fe={class:"industry-table"},Le=["href"],be=["href"];function me(e,t,n,a,o,s){return(0,r.uX)(),(0,r.CE)(r.FK,null,[(0,r.Lk)("div",pe,[t[2]||(t[2]=(0,r.Lk)("h2",null,"行业涨幅排行榜",-1)),(0,r.Lk)("table",ve,[t[1]||(t[1]=(0,r.Lk)("thead",null,[(0,r.Lk)("tr",null,[(0,r.Lk)("th",null,"行业"),(0,r.Lk)("th",null,"指数"),(0,r.Lk)("th",null,"涨跌"),(0,r.Lk)("th",null,"涨幅"),(0,r.Lk)("th",null,"近5日涨幅"),(0,r.Lk)("th",null,"近20日涨幅"),(0,r.Lk)("th",null,"代表个股"),(0,r.Lk)("th",null,"最新价"),(0,r.Lk)("th",null,"个股涨跌")])],-1)),(0,r.Lk)("tbody",null,[o.upIndustries.length?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.CE)("tr",ke,t[0]||(t[0]=[(0,r.Lk)("td",{colspan:"9"},"暂无数据",-1)]))),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(o.upIndustries,(e=>((0,r.uX)(),(0,r.CE)("tr",{key:e.bd_code},[(0,r.Lk)("td",null,[(0,r.Lk)("a",{href:`https://stockapp.finance.qq.com/mstats/#mod=list&id=${e.bd_code}&typename=${e.bd_name}&sign=web`,target:"_blank"},(0,_.v_)(e.bd_name),9,he)]),(0,r.Lk)("td",null,(0,_.v_)(e.bd_zxj),1),(0,r.Lk)("td",{style:(0,_.Tr)({color:e.bd_zd<0?"green":"red"})},(0,_.v_)(e.bd_zd),5),(0,r.Lk)("td",{style:(0,_.Tr)({color:e.bd_zdf<0?"green":"red"})},(0,_.v_)(e.bd_zdf)+"%",5),(0,r.Lk)("td",{style:(0,_.Tr)({color:e.bd_zdf5<0?"green":"red"})},(0,_.v_)(e.bd_zdf5)+"%",5),(0,r.Lk)("td",{style:(0,_.Tr)({color:e.bd_zdf20<0?"green":"red"})},(0,_.v_)(e.bd_zdf20)+"%",5),(0,r.Lk)("td",null,[(0,r.Lk)("a",{href:`https://gu.qq.com/${e.nzg_code}/gp`,target:"_blank"},(0,_.v_)(e.nzg_name),9,ge)]),(0,r.Lk)("td",null,(0,_.v_)(e.nzg_zxj),1),(0,r.Lk)("td",{style:(0,_.Tr)({color:e.nzg_zd<0?"green":"red"})},(0,_.v_)(e.nzg_zd)+" ("+(0,_.v_)(e.nzg_zdf)+"%) ",5)])))),128))])])]),(0,r.Lk)("div",_e,[t[4]||(t[4]=(0,r.Lk)("h2",null,"行业跌幅排行榜",-1)),(0,r.Lk)("table",fe,[t[3]||(t[3]=(0,r.Lk)("thead",null,[(0,r.Lk)("tr",null,[(0,r.Lk)("th",null,"行业"),(0,r.Lk)("th",null,"指数"),(0,r.Lk)("th",null,"涨跌"),(0,r.Lk)("th",null,"跌幅"),(0,r.Lk)("th",null,"近5日跌幅"),(0,r.Lk)("th",null,"近20日跌幅"),(0,r.Lk)("th",null,"代表个股"),(0,r.Lk)("th",null,"最新价"),(0,r.Lk)("th",null,"个股涨跌")])],-1)),(0,r.Lk)("tbody",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(o.downIndustries,(e=>((0,r.uX)(),(0,r.CE)("tr",{key:e.bd_code},[(0,r.Lk)("td",null,[(0,r.Lk)("a",{href:`https://stockapp.finance.qq.com/mstats/#mod=list&id=${e.bd_code}&typename=${e.bd_name}&sign=web`,target:"_blank"},(0,_.v_)(e.bd_name),9,Le)]),(0,r.Lk)("td",null,(0,_.v_)(e.bd_zxj),1),(0,r.Lk)("td",{style:(0,_.Tr)({color:e.bd_zd<0?"green":"red"})},(0,_.v_)(e.bd_zd),5),(0,r.Lk)("td",{style:(0,_.Tr)({color:e.bd_zdf<0?"green":"red"})},(0,_.v_)(e.bd_zdf)+"%",5),(0,r.Lk)("td",{style:(0,_.Tr)({color:e.bd_zdf5<0?"green":"red"})},(0,_.v_)(e.bd_zdf5)+"%",5),(0,r.Lk)("td",{style:(0,_.Tr)({color:e.bd_zdf20<0?"green":"red"})},(0,_.v_)(e.bd_zdf20)+"%",5),(0,r.Lk)("td",null,[(0,r.Lk)("a",{href:`https://gu.qq.com/${e.nzg_code}/gp`,target:"_blank"},(0,_.v_)(e.nzg_name),9,be)]),(0,r.Lk)("td",null,(0,_.v_)(e.nzg_zxj),1),(0,r.Lk)("td",{style:(0,_.Tr)({color:e.nzg_zd<0?"green":"red"})},(0,_.v_)(e.nzg_zd)+" ("+(0,_.v_)(e.nzg_zdf)+"%) ",5)])))),128))])])])],64)}var ye={name:"HotIndustryRanking",data(){return{upIndustries:[],downIndustries:[]}},created(){this.startPolling()},methods:{async fetchIndustryData(){try{const e=await S.A.get("https://proxy.finance.qq.com/ifzqgtimg/appstock/app/mktHs/rank?l=30&p=1&t=01/averatio&ordertype=&o=0");e.data&&e.data.data&&(this.upIndustries=e.data.data),console.log(this.upIndustries)}catch(e){console.error("获取行业数据失败:",e)}},async fetchDownIndustryData(){try{const e=await S.A.get("https://proxy.finance.qq.com/ifzqgtimg/appstock/app/mktHs/rank?l=30&p=1&t=01/averatio&ordertype=&o=1");e.data&&e.data.data&&(this.downIndustries=e.data.data),console.log(this.downIndustries)}catch(e){console.error("获取行业跌幅数据失败:",e)}},startPolling(){this.fetchIndustryData(),this.fetchDownIndustryData(),this.timer=setInterval((()=>{this.fetchIndustryData(),this.fetchDownIndustryData()}),6e4)},stopPolling(){this.timer&&clearInterval(this.timer)}}};const we=(0,d.A)(ye,[["render",me],["__scopeId","data-v-4bf50f3c"]]);var Ce=we;const ze=[{path:"/",name:"NewsList",component:J},{path:"/source/:source",name:"CategrayNews",component:ie},{path:"/ranking",name:"HotIndustryRanking",component:Ce}],Ie=(0,R.aE)({history:(0,R.LA)("/"),routes:ze});var Ee=Ie;const Pe=(0,a.Ef)(O);Pe.use(Ee),Pe.mount("#app")}},t={};function n(a){var r=t[a];if(void 0!==r)return r.exports;var o=t[a]={exports:{}};return e[a].call(o.exports,o,o.exports,n),o.exports}n.m=e,function(){var e=[];n.O=function(t,a,r,o){if(!a){var s=1/0;for(d=0;d<e.length;d++){a=e[d][0],r=e[d][1],o=e[d][2];for(var l=!0,c=0;c<a.length;c++)(!1&o||s>=o)&&Object.keys(n.O).every((function(e){return n.O[e](a[c])}))?a.splice(c--,1):(l=!1,o<s&&(s=o));if(l){e.splice(d--,1);var u=r();void 0!==u&&(t=u)}}return t}o=o||0;for(var d=e.length;d>0&&e[d-1][2]>o;d--)e[d]=e[d-1];e[d]=[a,r,o]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){n.p="/"}(),function(){var e={524:0};n.O.j=function(t){return 0===e[t]};var t=function(t,a){var r,o,s=a[0],l=a[1],c=a[2],u=0;if(s.some((function(t){return 0!==e[t]}))){for(r in l)n.o(l,r)&&(n.m[r]=l[r]);if(c)var d=c(n)}for(t&&t(a);u<s.length;u++)o=s[u],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return n.O(d)},a=self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=n.O(void 0,[504],(function(){return n(4600)}));a=n.O(a)})();
//# sourceMappingURL=app.6e10fc2a.js.map