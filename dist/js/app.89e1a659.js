(function(){"use strict";var e={7247:function(e,t,n){var a=n(5130),o=n(6768);const r={id:"app"};function s(e,t,n,a,s,c){const l=(0,o.g2)("AppHeader"),i=(0,o.g2)("StockIndex"),u=(0,o.g2)("router-view"),v=(0,o.g2)("AppFooter");return(0,o.uX)(),(0,o.CE)("div",r,[(0,o.bF)(l),(0,o.bF)(i),(0,o.bF)(u),(0,o.bF)(v)])}var c=n.p+"img/logo.e6b7f4bc.webp";function l(e,t,n,a,r,s){return(0,o.uX)(),(0,o.CE)("header",null,t[0]||(t[0]=[(0,o.Fv)('<div class="logo" data-v-589b5d8e><img src="'+c+'" alt="股票新闻聚合 Logo" class="logo-image" data-v-589b5d8e> 股票新闻聚合 </div><nav data-v-589b5d8e><a href="/" data-v-589b5d8e>首页</a><a href="#" data-v-589b5d8e>财经新闻</a><a href="#" data-v-589b5d8e>市场动态</a><a href="#" data-v-589b5d8e>关于我们</a></nav>',2)]))}var i={name:"AppHeader"},u=n(1241);const v=(0,u.A)(i,[["render",l],["__scopeId","data-v-589b5d8e"]]);var d=v;function p(e,t,n,a,r,s){return(0,o.uX)(),(0,o.CE)("footer",null,t[0]||(t[0]=[(0,o.Lk)("div",{class:"copyright"}," © 2025 股票新闻聚合. 保留所有权利. ",-1)]))}var g={name:"AppFooter"};const f=(0,u.A)(g,[["render",p],["__scopeId","data-v-d56266c4"]]);var h=f,k=(n(8992),n(4520),n(1454),n(4232)),_=n(144);const m={class:"stock-indices"},b={class:"stock-indices-container"},y=["href"],w={class:"index-name"},C={class:"index-value"},L={key:0,class:"index-change-value positive"},P={key:1,class:"index-change-value negative"},E={key:2,class:"index-change positive"},X={key:3,class:"index-change negative"},x={class:"index-volume"},F={key:0},I={key:1},A={class:"index-turnover"},M={key:0},$={key:1},O="https://sqt.gtimg.cn/qt?app=tengxuncaijing&q=s_sh000001,s_sz399001,s_sz399006,s_sh000688,s_sh000300,s_hkHSI,s_usDJI,s_usIXIC,s_usINX";var S={__name:"StockIndex",setup(e){const t=(0,_.KR)([]),n=async()=>{try{const e=await fetch(O,{headers:{Accept:"text/html; charset=GBK"}}),n=await e.arrayBuffer(),a=new TextDecoder("gbk"),o=a.decode(n),r=o.split(";").filter((e=>""!==e.trim()));t.value=r.map((e=>{const t=e.split("=")[0]?.replace(/"/g,"").trim(),n=e.split("=")[1]?.replace(/"/g,"").trim();if(!n)return null;const a=n.split("~"),o=t.replace("v_s_","");return{id:a[0],name:decodeURIComponent(a[1]),code:o,value:parseFloat(a[3]),change:parseFloat(a[4]),percentageChange:parseFloat(a[5]),volume:parseFloat(a[6]),turnover:parseFloat(a[7])}})).filter((e=>e))}catch(e){console.error("数据请求失败:",e)}};return(0,o.sV)((()=>{n()})),(e,a)=>((0,o.uX)(),(0,o.CE)("div",m,[(0,o.Lk)("div",b,[(0,o.Lk)("button",{onClick:n,class:"refresh-button"},"刷新数据"),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(t.value,(e=>((0,o.uX)(),(0,o.CE)("div",{class:"stock-item",key:e.id},[(0,o.Lk)("a",{class:"stock-link",href:`https://gu.qq.com/${e.code}/zs`,target:"_blank"},[(0,o.Lk)("div",w,(0,k.v_)(e.name),1),(0,o.Lk)("div",C,(0,k.v_)(e.value),1),e.change.toString().includes("-")?((0,o.uX)(),(0,o.CE)("div",L,(0,k.v_)(e.change),1)):((0,o.uX)(),(0,o.CE)("div",P,(0,k.v_)(e.change),1)),e.percentageChange.toString().includes("-")?((0,o.uX)(),(0,o.CE)("div",E,(0,k.v_)(e.percentageChange)+"% ",1)):((0,o.uX)(),(0,o.CE)("div",X,(0,k.v_)(e.percentageChange)+"% ",1)),(0,o.Lk)("div",x,[e.volume>=1e8?((0,o.uX)(),(0,o.CE)("span",F,(0,k.v_)(Math.floor(e.volume/1e8))+"亿手",1)):((0,o.uX)(),(0,o.CE)("span",I,(0,k.v_)(Math.floor(e.volume/1e4))+"万手",1))]),(0,o.Lk)("div",A,[e.turnover>=1e4?((0,o.uX)(),(0,o.CE)("span",M,(0,k.v_)(Math.floor(e.turnover/1e4))+"亿",1)):((0,o.uX)(),(0,o.CE)("span",$,(0,k.v_)(e.turnover)+"万",1))])],8,y)])))),128))])]))}};const R=(0,u.A)(S,[["__scopeId","data-v-b5ee3092"]]);var K=R,j={name:"App",components:{AppHeader:d,AppFooter:h,StockIndex:K}};const q=(0,u.A)(j,[["render",s]]);var N=q,D=n(1387),z=n(4373);const T=z.A.create({baseURL:"https://news.ykcode.top/api/"}),H={class:"news-container"},V={class:"total-news-count"},B=["onClick"],U={class:"content"};var W={__name:"NewsList",setup(e){const t=[{title:"今日美股网",source:"todayusstock"},{title:"东方财富网",source:"eastmoney"},{title:"证券时报网",source:"stcn"}],n=(0,_.KR)({});var a=0;const r=async(e,t)=>{try{const o=await T.get(`/v1/news/list?source=${e}`);n.value[t]=o.data.news,a+=o.data.totalCount}catch(o){console.error("Failed to fetch news:",o)}};t.forEach((e=>{r(e.source,e.title)})),(0,o.sV)((()=>{}));const s=e=>{const t=new Date,n=t-new Date(e),a=Math.floor(n/1e3),o=Math.floor(a/60),r=Math.floor(o/60),s=Math.floor(r/24);return s>0?`${s}天前`:r>0?`${r}小时前`:o>0?`${o}分钟前`:"刚刚"},c=e=>{window.open(e,"_blank")};return(e,r)=>{const l=(0,o.g2)("router-link");return(0,o.uX)(),(0,o.CE)("div",H,[(0,o.Lk)("div",V,[(0,o.Lk)("p",null,"新闻总数: "+(0,k.v_)((0,_.R1)(a)),1)]),((0,o.uX)(),(0,o.CE)(o.FK,null,(0,o.pI)(t,((e,t)=>(0,o.Lk)("div",{key:t,class:"news-section"},[(0,o.bF)(l,{to:`/source/${e.source}`,class:"no-underline"},{default:(0,o.k6)((()=>[(0,o.Lk)("h2",null,(0,k.v_)(e.title),1)])),_:2},1032,["to"]),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(n.value[e.title],(e=>((0,o.uX)(),(0,o.CE)("div",{key:e.id,class:"news-item"},[(0,o.Lk)("h3",null,[(0,o.Lk)("div",{class:"news-link",onClick:t=>c(e.link)},(0,k.v_)(e.title),9,B)]),(0,o.Lk)("p",U,(0,k.v_)(e.content?e.content.slice(0,80)+(e.content.length>50?"...":""):""),1),r[0]||(r[0]=(0,o.Lk)("p",null,null,-1)),(0,o.Lk)("p",null,[(0,o.Lk)("span",null,(0,k.v_)(e.category),1),(0,o.eW)(" "+(0,k.v_)(s(e.publish_time)),1)])])))),128))]))),64))])}}};const G=(0,u.A)(W,[["__scopeId","data-v-472f1280"]]);var J=G;const Q={class:"pagination"},Y=["disabled"],Z=["disabled"];function ee(e,t,n,a,r,s){return(0,o.uX)(),(0,o.CE)("div",Q,[(0,o.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>s.prevPage&&s.prevPage(...e)),disabled:1===n.currentPage},"上一页",8,Y),(0,o.Lk)("span",null,(0,k.v_)(n.currentPage),1),(0,o.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>s.nextPage&&s.nextPage(...e)),disabled:n.currentPage===n.totalPages},"下一页",8,Z)])}var te={name:"PaginationComponent",props:{currentPage:{type:Number,required:!0},totalPages:{type:Number,required:!0}},emits:["page-change"],methods:{prevPage(){this.currentPage>1&&this.$emit("page-change",this.currentPage-1)},nextPage(){this.currentPage<this.totalPages&&this.$emit("page-change",this.currentPage+1)}}};const ne=(0,u.A)(te,[["render",ee],["__scopeId","data-v-0065ceb0"]]);var ae=ne;const oe={class:"news-container"},re={class:"total-news-count"},se={class:"news-section"},ce=["onClick"],le={class:"content"};var ie={__name:"CategrayNews",setup(e){const t={todayusstock:"今日美股网",eastmoney:"东方财富网",stcn:"证券时报网"},n=(0,_.KR)({}),a=(0,_.KR)(0),r=(0,_.KR)(0),s=(0,D.lq)(),c=s.params.source;let l=parseInt(s.params.page)||1,i=parseInt(s.params.pageSize)||10;const u=async(e,t,o)=>{try{const s=await T.get(`/v1/news/list?source=${e}&page=${o}&pageSize=${i}`);n.value[t]=s.data.news,a.value=parseInt(s.data.totalCount),r.value=Math.ceil(a.value/i)}catch(s){console.error("Failed to fetch news:",s)}};(0,o.sV)((()=>{u(c,t[c],l)}));const v=e=>{const t=new Date,n=t-new Date(e),a=Math.floor(n/1e3),o=Math.floor(a/60),r=Math.floor(o/60),s=Math.floor(r/24);return s>0?`${s}天前`:r>0?`${r}小时前`:o>0?`${o}分钟前`:"刚刚"},d=e=>{window.open(e,"_blank")},p=e=>{l=e,u(c,t[c],l)};return(e,s)=>((0,o.uX)(),(0,o.CE)("div",oe,[(0,o.Lk)("div",re,[(0,o.Lk)("p",null,"新闻总数: "+(0,k.v_)(a.value),1)]),(0,o.Lk)("div",se,[(0,o.Lk)("h2",null,(0,k.v_)(t[(0,_.R1)(c)]),1),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(n.value[t[(0,_.R1)(c)]],(e=>((0,o.uX)(),(0,o.CE)("div",{key:e.id,class:"news-item"},[(0,o.Lk)("h3",null,[(0,o.Lk)("div",{class:"news-link",onClick:t=>d(e.link)},(0,k.v_)(e.title),9,ce)]),(0,o.Lk)("p",le,(0,k.v_)(e.content?e.content.slice(0,80)+(e.content.length>50?"...":""):""),1),s[0]||(s[0]=(0,o.Lk)("p",null,null,-1)),(0,o.Lk)("p",null,[(0,o.Lk)("span",null,(0,k.v_)(e.category),1),(0,o.eW)(" "+(0,k.v_)(v(e.publish_time)),1)])])))),128))]),(0,o.bF)(ae,{currentPage:(0,_.R1)(l),totalPages:r.value,onPageChange:p},null,8,["currentPage","totalPages"])]))}};const ue=(0,u.A)(ie,[["__scopeId","data-v-fb7f894c"]]);var ve=ue;const de=[{path:"/",name:"NewsList",component:J},{path:"/source/:source",name:"CategrayNews",component:ve}],pe=(0,D.aE)({history:(0,D.LA)("/"),routes:de});var ge=pe;const fe=(0,a.Ef)(N);fe.use(ge),fe.mount("#app")}},t={};function n(a){var o=t[a];if(void 0!==o)return o.exports;var r=t[a]={exports:{}};return e[a].call(r.exports,r,r.exports,n),r.exports}n.m=e,function(){var e=[];n.O=function(t,a,o,r){if(!a){var s=1/0;for(u=0;u<e.length;u++){a=e[u][0],o=e[u][1],r=e[u][2];for(var c=!0,l=0;l<a.length;l++)(!1&r||s>=r)&&Object.keys(n.O).every((function(e){return n.O[e](a[l])}))?a.splice(l--,1):(c=!1,r<s&&(s=r));if(c){e.splice(u--,1);var i=o();void 0!==i&&(t=i)}}return t}r=r||0;for(var u=e.length;u>0&&e[u-1][2]>r;u--)e[u]=e[u-1];e[u]=[a,o,r]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){n.p="/"}(),function(){var e={524:0};n.O.j=function(t){return 0===e[t]};var t=function(t,a){var o,r,s=a[0],c=a[1],l=a[2],i=0;if(s.some((function(t){return 0!==e[t]}))){for(o in c)n.o(c,o)&&(n.m[o]=c[o]);if(l)var u=l(n)}for(t&&t(a);i<s.length;i++)r=s[i],n.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return n.O(u)},a=self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=n.O(void 0,[504],(function(){return n(7247)}));a=n.O(a)})();
//# sourceMappingURL=app.89e1a659.js.map